# Config File by Zhan, Lei, Charitha, Xue

#-----------------------------#
#Charging Price Input
#-----------------------------#
ONE_TIME_TRIP_FEE= 2.5
PASSENGER_FEE = 2.35
ONE_TIME_CHARGING_FEE = 1
DRIVER_WAGE_FEE = 1.0
ELECTRICITY_FEE_L2 = 80
ELECTRICITY_FEE_L3 = 80
TIMEVALUE_DRIVER = 0.8
TIMEVALUE_PASS = 0.9
VALUATION_PASS_MEAN = 4
VALUATION_PASS_STD = 2
VALUATION_EV_MEAN = 1
VALUATION_EV_STD = 0.5

#-----------------------------#
#Input Files
#-----------------------------#
## Road Network
ROADS_SHAPEFILE = data/NYC/road_fileNYC.shp
LANES_SHAPEFILE = data/NYC/lane_fileNYC.shp
ZONES_SHAPEFILE = data/NYC/zone_centroid_manhattan.shp
CHARGER_SHAPEFILE = data/NYC/charging_station/manhattan_charger_2022.shp
CHARGER_CSV = data/NYC/charging_station/manhattan_charger_2022.csv
ROADS_CSV = data/NYC/road_fileNYC.csv
LANES_CSV = data/NYC/lane_fileNYC.csv
ZONE_CSV = data/NYC/zone_file_manhattan.csv
NUM_OF_ZONE = 66

## Background Traffic
BT_EVENT_FILE = data/NYC/background_traffic/scenario1/speed_2019-04-01.csv
BT_STD_FILE = data/NYC/background_traffic/scenario1/speed_std_2019-04-01.csv
HOUR_OF_SPEED = 24

## Travel demand
DM_EVENT_FILE = data/NYC/demand/demand_2020_04_01_manhattan.json
HOUR_OF_DEMAND = 24
PASSENGER_DEMAND_FACTOR = 1
PASSENGER_SHARE_PERCENTAGE = 0
### 10 minutes, after this the request will be lost
PASSENGER_WAITING_THRESHOLD = 10

## Default bus schedule
BUS_SCHEDULE = data/NYC/bus_planning/blank.json

## Number of vehicles
NUM_OF_EV = 2000
NUM_OF_BUS = 0

## Battery Capacity
EV_BATTERY = 50
BUS_BATTERY = 250

## Event File, specify event like road closure or traffic regulation
EVENT_FILE = data/NYC/event/empty.csv
### Check event for every 10 ticks
EVENT_CHECK_FREQUENCY = 10

#-----------------------------#
# Operation Options
#-----------------------------#
K_SHORTEST_PATH = false
COLLABORATIVE_EV = false  	                                                                                   
BUS_PLANNING = false
PROACTIVE_RELOCATION = true
### 15 minutes, after this amount of time vehicle will try to park to the closest zone
MAX_CRUISING_TIME = 15

## Eco-routing Parameters
ECO_ROUTING_EV = false
ECO_ROUTING_BUS = false
NUM_CANDIDATE_ROUTES = 20

## Vehicle charging
PROACTIVE_CHARGING = false
RECHARGE_LEVEL_LOW = 0.2
RECHARGE_LEVEL_HIGH = 0.8

## 10 minutes, after this amount of time steps we reroute the vehicle
MAX_STUCK_TIME = 10

#-----------------------------#
# Simulation setup 
#-----------------------------#
## Second per step, here is 0.3s/tick, so 12000 ticks = 1 hour, 200 ticks = 1 min
RANDOM_SEED=42
SIMULATION_STEP_SIZE = 0.3
### The rest interval/time variables are in the unit of tick
SIMULATION_ZONE_REFRESH_INTERVAL = 200
SIMULATION_SPEED_REFRESH_INTERVAL = 12000
SIMULATION_DEMAND_REFRESH_INTERVAL = 12000
SIMULATION_BUS_REFRESH_INTERVAL = 24000
SIMULATION_CHARGING_STATION_REFRESH_INTERVAL = 100
SIMULATION_INTERVAL_SIZE = 100
SIMULATION_STOP_TIME = 288000

#-----------------------------#
# Network Partitioning
#-----------------------------#
MULTI_THREADING = true
## Number of Partitions: 1 not allowed, only number of partition=2^k can produce correct partitions
N_PARTITION = 4
N_THREADS = 4
SIMULATION_NETWORK_REFRESH_INTERVAL = 1000
SIMULATION_PARTITION_REFRESH_INTERVAL = 10000
SIMULATION_MAX_PARTITION_REFRESH_INTERVAL = 100000
THRESHOLD_VEHICLE_NUMBER = 200

#-----------------------------#
# Data collection
#-----------------------------#
## Parameters for data collection buffer
ENABLE_DATA_COLLECTION = true
DEBUG_DATA_BUFFER = false
DATA_CLEANUP_REFRESH = 30000

## Parameters for CSV output file writer, deprecated
ENABLE_CSV_WRITE = false
CSV_DEFAULT_FILENAME = EOut
CSV_DEFAULT_EXTENSION = csv
CSV_DEFAULT_PATH = CSV_output
CSV_BUFFER_REFRESH = 5000
CSV_LINE_LIMIT = 1000000

## Parameters for JSON output file writer
ENABLE_JSON_WRITE = true
JSON_DEFAULT_FILENAME = EOut
JSON_DEFAULT_EXTENSION = json
JSON_DEFAULT_PATH = sim_output
JSON_BUFFER_REFRESH = 200
JSON_TICK_LIMIT_PER_FILE = 2

## Parameters for aggregated report writer
AGG_DEFAULT_PATH = agg_output

## Parameters for handling network connections
ENABLE_NETWORK = true
DEBUG_NETWORK = true
NETWORK_BUFFER_REFRESH = 2500
NETWORK_STATUS_REFRESH = 5000
NETWORK_LISTEN_PORT = 61279
NETWORK_MAX_MESSAGE_SIZE = 1000000000

## Parameter for recording vehicle snapshot separately for visualization purposes
FREQ_RECORD_VEH_SNAPSHOT_FORVIZ = 20
FREQ_RECORD_LINK_SNAPSHOT_FORVIZ = 1000

## Parameters for display metrics
ENABLE_METRICS_DISPLAY = true
METRICS_DISPLAY_INTERVAL = 600

#-----------------------------#
# Constants
#-----------------------------#
## Parameters for primitive move
TRAVEL_PER_TURN = 3

## Searching scope for nearby links and charging stations.~5km
XXXX_BUFFER = 0.05

## Car following status
STATUS_REGIME_FREEFLOWING = 0
STATUS_REGIME_CARFOLLOWING = 128
STATUS_REGIME_EMERGENCY =256

## Car following model constants
ALPHA_DEC = 1.55
BETA_DEC = 1.08
GAMMA_DEC = 1.65
ALPHA_ACC = 2.15
BETA_ACC = -1.67
GAMMA_ACC = -0.89

## For K_SHORTEST_PATH 
K_VALUE = 3
THETA_LOGIT = 0.25

## Parameters for the adaptive network weighting
PART_ALPHA = 15
PART_BETA = 5
PART_GAMMA = 10

## Number of future road segments to be considered in counting shadow vehicles
N_SHADOW = 10

## For microscopic vehicle movement
MAX_ACCELERATION = 3.0
MAX_DECELERATION = -3.0
DEFAULT_VEHICLE_WIDTH = 1.8
DEFAULT_VEHICLE_LENGTH = 5.5
INTERSECTION_BUFFER_LENGTH = 1
NO_LANECHANGING_LENGTH = 30
MIN_UTURN_LENGTH=100
SPEED_EPSILON = 0.001
ACC_EPSILON = 0.001
LANE_WIDTH = 3.5
FREE_SPEED=13.4112f
H_UPPER = 1.36
H_LOWER = 0.5
FLT_INF = Float.MAX_VALUE
FLT_EPSILON = 1.0 / FLT_INF

## For lane changing
LANE_CHANGING_PROB_PART1 = 1.0
LANE_CHANGING_PROB_PART2 = 1.0

## Mode split
### unit: dollars, per mile, per minute
BUS_TICKET_PRICE = 15.0f
MS_ALPHA = -0.078725f
MS_BETA = -0.020532f
BASE_PRICE_TAXI = 2.0f
INITIAL_PRICE_TAXI = 2.5f
TAXI_BASE = -0.672839f
BUS_BASE = -1.479586f

